<div class="password-change-container">
  <h2>Cambiar Contraseña</h2>

  <form (ngSubmit)="changePassword()" #changePasswordForm="ngForm" novalidate>
    <div class="form-group">
      <label for="currentPassword">Contraseña Actual:</label>
      <div class="password-container">
        <input [type]="showPassword.current ? 'text' : 'password'" id="currentPassword" [(ngModel)]="currentPassword"
          name="currentPassword" required #currentPasswordInput="ngModel">
        <span class="eye-icon" (click)="togglePasswordVisibility('current')">
          <i class="bi" [ngClass]="showPassword.current ? 'bi-eye' : 'bi-eye-slash'"></i>
        </span>
      </div>
      <div *ngIf="currentPasswordInput.invalid && currentPasswordInput.touched" class="field-error">
        La contraseña actual es requerida.
      </div>
    </div>

    <div class="form-group">
      <label for="newPassword">Nueva Contraseña:</label>
      <div class="password-container">
        <input [type]="showPassword.new ? 'text' : 'password'" id="newPassword" [(ngModel)]="newPassword"
          name="newPassword" required #newPasswordInput="ngModel">
        <span class="eye-icon" (click)="togglePasswordVisibility('new')">
          <i class="bi" [ngClass]="showPassword.new ? 'bi-eye' : 'bi-eye-slash'"></i>
        </span>
      </div>
      <div *ngIf="newPasswordInput.invalid && newPasswordInput.touched" class="field-error">
        La nueva contraseña es requerida.
      </div>
    </div>

    <div class="form-group">
      <label for="confirmPassword">Confirmar Nueva Contraseña:</label>
      <div class="password-container">
        <input [type]="showPassword.confirm ? 'text' : 'password'" id="confirmPassword" [(ngModel)]="confirmPassword"
          name="confirmPassword" required #confirmPasswordInput="ngModel">
        <span class="eye-icon" (click)="togglePasswordVisibility('confirm')">
          <i class="bi" [ngClass]="showPassword.confirm ? 'bi-eye' : 'bi-eye-slash'"></i>
        </span>
      </div>
      <div *ngIf="confirmPasswordInput.invalid && confirmPasswordInput.touched" class="field-error">
        Confirmar nueva contraseña es requerida.
      </div>
    </div>

    <button type="submit" class="submit-btn" [disabled]="changePasswordForm.invalid">Cambiar Contraseña</button>
  </form>
</div>